{% extends 'base.html.twig' %}

{% block title %}Listes des Utilisateurs{% endblock %}

{% block body %}
    <h1>Liste Des Utilisateurs</h1>

    <table class="table">
        <thead>
            <tr>
                <th>Id</th>
                <th>Email</th>
                <th>Roles</th>
{#                <th>Password</th>#}
                <th>actions</th>
            </tr>
        </thead>
        <tbody>
        {% for user in users %}
            <tr>
                <td>{{ user.id }}</td>
                <td>{{ user.email }}</td>
                <td>{{ user.roles ? user.roles|json_encode : '' }}</td>
{#                <td>{{ user.password }}</td>#}
                <td>
                    <a href="{{path('app_users_show',{'id':user.id})}}" class="btn btn-tbl-info btn-xs">
                        <i class="fa fa-info"></i>
                    </a>
                    <a href="{{ path('app_users_edit', {'id': user.id}) }}" class="btn btn-tbl-edit btn-xs">
                        <i class="fa fa-pencil"></i>
                    </a>
                    <a href="{{ path('app_users_delete', {'id': user.id}) }}">
                        <button class="btn btn-tbl-delete btn-xs">
                            <i class="fa fa-trash-o "></i>
                        </button>
                    </a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="5">no records found</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    {% if isPaginated is defined and isPaginated %}
        <div class="row mt-2">
            <nav aria-label="col Page navigation example">
                <ul class="pagination">
                    {% if page != 1 %}
                        <li class="page-item">
                            <a
                                    class="page-link"
                                    href="{{ path('app_users_index', {page: page - 1, nbre: nbre}) }}"
                            >
                                Previous
                            </a></li>
                    {% endif %}
                    {% for i in range(1, nbrePage) %}
                        <li class="page-item">
                            <a class="page-link"
                               href="{{ path('app_users_index', {page: i, nbre: nbre}) }}"
                            >{{ i }}
                            </a>
                        </li>
                    {% endfor %}
                    {% if page != nbrePage %}
                        <li class="page-item">
                            <a
                                    class="page-link"
                                    href="{{ path('app_users_index', {page: page + 1, nbre: nbre}) }}"
                            >Next</a>
                        </li>
                    {% endif %}
                </ul>
            </nav>

        </div>
    {% endif %}
<a href="{{ path('app_users_new') }}">
    <button class="mdl-button mdl-js-button mdl-button--fab margin-right-10 btn-primary">
        <i class="material-icons">add</i>
    </button>
</a>
{% endblock %}
